---
phase: 09-visual-qa
plan: 02
type: execute
domain: swiftui
---

<objective>
Visual QA and reference alignment for activity screens: Matching Game, Numbers Game, Labyrinth.

Purpose: Ensure game activity screens match reference designs for consistent visual experience during gameplay.
Output: All 3 activity screens visually match Reference_*.png images with correct game element styling.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

# Prior visual QA work:
@.planning/phases/09-visual-qa/09-01-SUMMARY.md

# Design compliance references:
@PLAYBOOK_CONDENSED.md
@DESIGN_QA_CHECKLIST.md

# Reference images to compare against:
@design/references/screens/Reference_Matching Game Screen.png
@design/references/screens/Reference_Numbers_Game_Screen.png
@design/references/screens/Reference_Layrinth_Game_Screen.png

# Current implementation files:
@BennieGame/BennieGame/Features/Activities/Raetsel/PuzzleMatchingView.swift
@BennieGame/BennieGame/Features/Activities/Zahlen/WuerfelView.swift
@BennieGame/BennieGame/Features/Activities/Zahlen/WaehleZahlView.swift
@BennieGame/BennieGame/Features/Activities/Raetsel/LabyrinthView.swift
@BennieGame/BennieGame/Design/Components/NavigationHeader.swift

# Established patterns:
**From 09-01: Forest theme consistency, wooden UI elements, character positioning**
</context>

<tasks>

<task type="auto">
  <name>Task 1: Matching Game Screen Visual Alignment</name>
  <files>BennieGame/BennieGame/Features/Activities/Raetsel/PuzzleMatchingView.swift</files>
  <action>
Compare current PuzzleMatchingView against Reference_Matching Game Screen.png and adjust to match:

1. Note exact layout from reference:
   - Navigation header (Home button top left 96x60pt, Progress bar center ~600x40pt, Volume control top right 60x60pt)
   - ZIEL tablet (center left, ~250x250pt stone tablet with grid)
   - DU tablet (center right, ~250x250pt stone tablet with grid)
   - Wooden arrow between tablets (~80pt, pointing right)
   - Tool tray (bottom center, ~600x80pt wooden log with color buttons)
   - Bennie (right side, ~180x280pt, pointing/encouraging)
   - Lemminge (left/bottom, 2-3 watching)

2. Verify stone tablet styling:
   - Carved grid appearance with golden inlay lines
   - Mossy/weathered edges
   - "ZIEL" and "DU" labels in German
   - Cell size 96x96pt for touch targets

3. Verify tool tray elements:
   - Green button ~80x80pt
   - Yellow button ~80x80pt
   - Gray/clear button ~80x80pt
   - Eraser tool ~60x60pt
   - Reset button ~60x60pt
   - Wooden log appearance

4. Fix deviations:
   - Adjust positions to match reference
   - Ensure stone texture on tablets
   - Verify wooden arrow style

AVOID: Changing grid logic or game mechanics. Altering touch target sizes.
  </action>
  <verify>Run simulator, navigate to Rätsel > Puzzle Matching, compare to Reference_Matching Game Screen.png</verify>
  <done>PuzzleMatchingView matches reference with stone tablets, wooden tool tray, and proper character placement</done>
</task>

<task type="auto">
  <name>Task 2: Numbers Game Screens Visual Alignment</name>
  <files>BennieGame/BennieGame/Features/Activities/Zahlen/WuerfelView.swift, BennieGame/BennieGame/Features/Activities/Zahlen/WaehleZahlView.swift</files>
  <action>
Compare WuerfelView and WaehleZahlView against Reference_Numbers_Game_Screen.png and adjust to match:

1. Note exact layout from reference:
   - Navigation header (same as Matching Game)
   - Number grid (center, stone tablet with numbers 1-10)
   - Tool tray (bottom, fewer tools than Matching Game)
   - Bennie (right side, encouraging)
   - Lemminge (bottom corners, 2 watching)

2. Verify number display:
   - Numbers 1-10 carved in stone appearance
   - Touch targets >=96x96pt per number
   - SF Rounded Bold font, 32-48pt
   - Clear spacing between numbers

3. Verify dice display (WuerfelView specific):
   - Animated dice in center
   - Clear pip/dot display
   - Number options around dice

4. Fix deviations:
   - Ensure both views share consistent layout
   - Match stone tablet styling from Matching Game
   - Verify number grid alignment

AVOID: Changing number generation logic. Altering voice trigger points.
  </action>
  <verify>Run simulator, navigate to Zahlen > Würfel and Wähle die Zahl, compare to Reference_Numbers_Game_Screen.png</verify>
  <done>Both numbers activities match reference layout with consistent stone tablet and number display styling</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Matching Game and Numbers Game visual alignment</what-built>
  <how-to-verify>
    1. Launch app in simulator, select a player
    2. Navigate to Rätsel > Puzzle Matching
    3. Compare to: design/references/screens/Reference_Matching Game Screen.png
       - Check stone tablet styling and positions
       - Verify tool tray appearance
       - Confirm ZIEL/DU labels
       - Check Bennie and Lemminge positions
    4. Go back, navigate to Zahlen > Würfel
    5. Compare to: design/references/screens/Reference_Numbers_Game_Screen.png
       - Check dice display and number grid
       - Verify stone tablet consistency
    6. Go back, navigate to Zahlen > Wähle die Zahl
       - Verify consistency with Würfel layout
  </how-to-verify>
  <resume-signal>Type "approved" if all match references, or describe specific deviations</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Labyrinth Screen Visual Alignment</name>
  <files>BennieGame/BennieGame/Features/Activities/Raetsel/LabyrinthView.swift</files>
  <action>
Compare current LabyrinthView against Reference_Layrinth_Game_Screen.png and adjust to match:

1. Note exact layout from reference:
   - Title (top center, ~400x80pt, "Bennie & Lemminge Labyrinth")
   - Maze canvas (center, ~800x600pt drawing area)
   - Start point (left side, marked "START" with Bennie)
   - End point (right side, marked "ZIEL" with Lemminge)
   - Bennie character (at start position, ~100x150pt)
   - Lemminge target (at goal position, ~60x80pt)

2. Verify maze styling:
   - Path area has forest floor appearance
   - Walls/boundaries clearly defined
   - START and ZIEL markers visible
   - Drawing line follows finger (green/woodland color, ~15pt width)

3. Fix deviations:
   - Adjust layout to match reference
   - Ensure start/end markers visible
   - Verify Bennie at START, Lemminge at ZIEL
   - Check forest backdrop consistency

AVOID: Changing path detection logic. Altering drag gesture behavior.
  </action>
  <verify>Run simulator, navigate to Rätsel > Labyrinth, compare to Reference_Layrinth_Game_Screen.png</verify>
  <done>LabyrinthView matches reference with proper maze layout, START/ZIEL markers, and character positions</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Labyrinth screen visual alignment</what-built>
  <how-to-verify>
    1. Launch app in simulator, select a player
    2. Navigate to Rätsel > Labyrinth
    3. Compare to: design/references/screens/Reference_Layrinth_Game_Screen.png
       - Check maze canvas layout
       - Verify START and ZIEL markers visible
       - Confirm Bennie at start, Lemminge at goal
       - Test drawing - verify line follows finger smoothly
       - Check title styling matches
    4. Verify forest theme consistency with other screens
  </how-to-verify>
  <resume-signal>Type "approved" if Labyrinth matches reference, or describe specific deviations</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PuzzleMatchingView matches Reference_Matching Game Screen.png
- [ ] WuerfelView matches Reference_Numbers_Game_Screen.png
- [ ] WaehleZahlView consistent with Numbers reference
- [ ] LabyrinthView matches Reference_Layrinth_Game_Screen.png
- [ ] Stone tablet styling consistent across activity screens
- [ ] Navigation header consistent across all activities
- [ ] All human-verify checkpoints approved
- [ ] Build succeeds without errors
</verification>

<success_criteria>
- All 3 activity screens visually match their reference images
- Stone tablet and wooden UI elements consistent across activities
- Human verification approved for all checkpoint tasks
- No build failures or regressions
</success_criteria>

<output>
After completion, create `.planning/phases/09-visual-qa/09-02-SUMMARY.md`:

# Phase 09 Plan 02: Activity Screens Visual QA - Summary

**[Summary of activity screen alignment work]**

## Accomplishments

- [Changes made to PuzzleMatchingView]
- [Changes made to WuerfelView/WaehleZahlView]
- [Changes made to LabyrinthView]

## Files Modified

- List of files with descriptions

## Deviations Found & Fixed

[Table of original vs reference vs fix]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 09-03-PLAN.md (Overlays & Rewards Visual QA)
</output>
